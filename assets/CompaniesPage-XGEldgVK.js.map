{"version":3,"file":"CompaniesPage-XGEldgVK.js","sources":["../../src/features/companies/pages/CompaniesPage.tsx"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\n\n// material-ui\nimport { Button } from '@mui/material';\n\n// project imports\nimport { Company } from '@/api/gql/graphql';\nimport DataTable from '@/ui-component/DataTable';\nimport FlexGrow from '@/ui-component/extended/FlexGrow';\nimport SebraDialog from '@/ui-component/SebraDialog';\nimport CompanyForm from '../components/CompanyForm';\nimport { companyColumns } from '../config/CompanyConfig';\nimport { useCreateCompany, useDeleteCompany, useUpdateCompany } from '../hooks/useCompaniesMutations';\nimport { useCompanies } from '../hooks/useCompaniesQueries';\n\n// assets\nimport { Add } from '@mui/icons-material';\n\n// ==============================|| COMPANIES PAGE ||============================== //\n\nconst CompaniesPage = () => {\n  const navigate = useNavigate();\n\n  const { data = [], isLoading } = useCompanies();\n  const { mutate: createCompany } = useCreateCompany();\n  const { mutate: updateCompany } = useUpdateCompany();\n  const { mutate: deleteCompany } = useDeleteCompany();\n\n  return (\n    <FlexGrow>\n      <DataTable<Company>\n        data={data}\n        columns={companyColumns}\n        getRowId={(row) => `${row.id}`}\n        state={{ isLoading }}\n        onCreate={(data) =>\n          createCompany(data, {\n            onSuccess: ({ createCompany }) => navigate(`/home/companies/${createCompany?.id || ''}`)\n          })\n        }\n        onUpdate={(row) => updateCompany(row)}\n        onDelete={(row) => deleteCompany(row)}\n        renderTopToolbarCustomActions={({ table }) => (\n          <Button\n            onClick={() => table.setCreatingRow(true)}\n            variant=\"outlined\"\n            size=\"small\"\n            startIcon={<Add />}\n            sx={{ textTransform: 'none' }}\n          >\n            Lägg till bolag\n          </Button>\n        )}\n        renderEditRowDialogContent={({ row, table }) => (\n          <SebraDialog\n            table={table}\n            row={row}\n            titles={{ creating: 'Lägg till bolag', editing: 'Redigera bolag' }}\n            FormComponent={CompanyForm}\n          />\n        )}\n      />\n    </FlexGrow>\n  );\n};\n\nexport default CompaniesPage;\n"],"names":["CompaniesPage","navigate","useNavigate","data","isLoading","useCompanies","createCompany","useCreateCompany","updateCompany","useUpdateCompany","deleteCompany","useDeleteCompany","FlexGrow","jsx","DataTable","companyColumns","row","table","Button","Add","SebraDialog","CompanyForm"],"mappings":"y7BAoBA,MAAMA,EAAgB,IAAM,CAC1B,MAAMC,EAAWC,IAEX,CAAE,KAAAC,EAAO,CAAA,EAAI,UAAAC,GAAcC,EAAa,EACxC,CAAE,OAAQC,CAAc,EAAIC,EAAiB,EAC7C,CAAE,OAAQC,CAAc,EAAIC,EAAiB,EAC7C,CAAE,OAAQC,CAAc,EAAIC,EAAiB,EAEnD,aACGC,EACC,CAAA,SAAAC,EAAA,IAACC,EAAA,CACC,KAAAX,EACA,QAASY,EACT,SAAWC,GAAQ,GAAGA,EAAI,EAAE,GAC5B,MAAO,CAAE,UAAAZ,CAAU,EACnB,SAAWD,GACTG,EAAcH,EAAM,CAClB,UAAW,CAAC,CAAE,cAAAG,KAAoBL,EAAS,oBAAmBK,GAAAA,YAAAA,EAAe,KAAM,EAAE,EAAE,CAAA,CACxF,EAEH,SAAWU,GAAQR,EAAcQ,CAAG,EACpC,SAAWA,GAAQN,EAAcM,CAAG,EACpC,8BAA+B,CAAC,CAAE,MAAAC,CAAA,IAChCJ,EAAA,IAACK,EAAA,CACC,QAAS,IAAMD,EAAM,eAAe,EAAI,EACxC,QAAQ,WACR,KAAK,QACL,gBAAYE,EAAI,EAAA,EAChB,GAAI,CAAE,cAAe,MAAO,EAC7B,SAAA,iBAAA,CAED,EAEF,2BAA4B,CAAC,CAAE,IAAAH,EAAK,MAAAC,CAClC,IAAAJ,EAAA,IAACO,EAAA,CACC,MAAAH,EACA,IAAAD,EACA,OAAQ,CAAE,SAAU,kBAAmB,QAAS,gBAAiB,EACjE,cAAeK,CAAA,CACjB,CAAA,CAGN,CAAA,CAAA,CAEJ"}