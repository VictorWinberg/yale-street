{"version":3,"file":"Login-DHsen0QF.js","sources":["../../src/features/authentication/components/auth-forms/AuthLogin.tsx","../../src/features/authentication/pages/Login.tsx"],"sourcesContent":["import { MouseEvent, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\n// material-ui\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Checkbox from '@mui/material/Checkbox';\nimport Divider from '@mui/material/Divider';\nimport FormControl from '@mui/material/FormControl';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport Grid from '@mui/material/Grid';\nimport IconButton from '@mui/material/IconButton';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport InputLabel from '@mui/material/InputLabel';\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport Stack from '@mui/material/Stack';\nimport { useTheme } from '@mui/material/styles';\nimport Typography from '@mui/material/Typography';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\n// third party\nimport { useForm } from 'react-hook-form';\n\n// project imports\nimport AnimateButton from '@/ui-component/extended/AnimateButton';\nimport { useAuthLogin } from '../../hooks/useAuthMutations';\n\n// assets\nimport Google from '@/assets/images/icons/social-google.svg';\nimport Visibility from '@mui/icons-material/Visibility';\nimport VisibilityOff from '@mui/icons-material/VisibilityOff';\n\n// ============================|| FIREBASE - LOGIN ||============================ //\n\ntype Auth = {\n  email: string;\n  password: string;\n};\n\nconst AuthLogin = () => {\n  const theme = useTheme();\n  const matchDownSM = useMediaQuery(theme.breakpoints.down('md'));\n  const navigate = useNavigate();\n  const [checked, setChecked] = useState(true);\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n    setError\n  } = useForm<Auth>();\n  const { mutate: loginUser } = useAuthLogin();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const handleClickShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleMouseDownPassword = (event: MouseEvent) => {\n    event.preventDefault();\n  };\n\n  const handleLogin = async (auth: Auth) => {\n    loginUser(auth, {\n      onSuccess: () => navigate('/'),\n      onError: () => setError('password', { message: 'Ogiltig e-postadress eller lösenord' })\n    });\n  };\n\n  return (\n    <>\n      {false && (\n        <Grid container direction=\"column\" justifyContent=\"center\" spacing={2}>\n          <Grid item xs={12}>\n            <AnimateButton>\n              <Button\n                disableElevation\n                fullWidth\n                onClick={console.log}\n                size=\"large\"\n                variant=\"outlined\"\n                sx={{\n                  color: 'grey.700',\n                  backgroundColor: theme.palette.grey[50],\n                  borderColor: theme.palette.grey[100]\n                }}\n              >\n                <Box sx={{ mr: { xs: 1, sm: 2, width: 20 } }}>\n                  <img src={Google} alt=\"google\" width={16} height={16} style={{ marginRight: matchDownSM ? 8 : 16 }} />\n                </Box>\n                Sign in with Google\n              </Button>\n            </AnimateButton>\n          </Grid>\n          <Grid item xs={12}>\n            <Box\n              sx={{\n                alignItems: 'center',\n                display: 'flex'\n              }}\n            >\n              <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\n\n              <Button\n                variant=\"outlined\"\n                sx={{\n                  cursor: 'unset',\n                  m: 2,\n                  py: 0.5,\n                  px: 7,\n                  borderColor: `${theme.palette.grey[100]} !important`,\n                  color: `${theme.palette.grey[900]}!important`,\n                  fontWeight: 500,\n                  borderRadius: '6px'\n                }}\n                disableRipple\n                disabled\n              >\n                OR\n              </Button>\n\n              <Divider sx={{ flexGrow: 1 }} orientation=\"horizontal\" />\n            </Box>\n          </Grid>\n          <Grid item xs={12} container alignItems=\"center\" justifyContent=\"center\">\n            <Box sx={{ mb: 2 }}>\n              <Typography variant=\"subtitle1\">Sign in with Email address</Typography>\n            </Box>\n          </Grid>\n        </Grid>\n      )}\n\n      <form noValidate onSubmit={handleSubmit(handleLogin)}>\n        <FormControl fullWidth error={Boolean(errors.email)} sx={{ ...theme.typography.customInput }}>\n          <InputLabel htmlFor=\"outlined-adornment-email-login\">E-postadress / Användarnamn</InputLabel>\n          <OutlinedInput\n            id=\"outlined-adornment-email-login\"\n            type=\"email\"\n            label=\"E-postadress / Användarnamn\"\n            inputProps={{}}\n            {...register('email', {\n              required: 'Email krävs',\n              pattern: { value: /^\\S+@\\S+$/i, message: 'Måste vara en giltig E-postadress' },\n              maxLength: { value: 255, message: 'E-postadressen är för lång' }\n            })}\n          />\n          {errors.email && (\n            <FormHelperText error id=\"standard-weight-helper-text-email-login\">\n              {errors.email.message}\n            </FormHelperText>\n          )}\n        </FormControl>\n\n        <FormControl fullWidth error={Boolean(errors.password)} sx={{ ...theme.typography.customInput }}>\n          <InputLabel htmlFor=\"outlined-adornment-password-login\">Lösenord</InputLabel>\n          <OutlinedInput\n            id=\"outlined-adornment-password-login\"\n            type={showPassword ? 'text' : 'password'}\n            {...register('password', { required: 'Lösenord krävs' })}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"toggle password visibility\"\n                  onClick={handleClickShowPassword}\n                  onMouseDown={handleMouseDownPassword}\n                  edge=\"end\"\n                  size=\"large\"\n                >\n                  {showPassword ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            }\n            label=\"Lösenord\"\n            inputProps={{}}\n          />\n          {errors.password && (\n            <FormHelperText error id=\"standard-weight-helper-text-password-login\">\n              {errors.password.message}\n            </FormHelperText>\n          )}\n        </FormControl>\n        {false && (\n          <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" spacing={1}>\n            <FormControlLabel\n              control={\n                <Checkbox\n                  checked={checked}\n                  onChange={(event) => setChecked(event.target.checked)}\n                  name=\"checked\"\n                  color=\"primary\"\n                />\n              }\n              label=\"Kom ihåg mig\"\n            />\n            <Typography variant=\"subtitle1\" color=\"primary\" sx={{ textDecoration: 'none', cursor: 'pointer' }}>\n              Glömt lösenord?\n            </Typography>\n          </Stack>\n        )}\n        {errors.root && (\n          <Box sx={{ mt: 1 }}>\n            <FormHelperText error>{errors.root.message}</FormHelperText>\n          </Box>\n        )}\n\n        <Box sx={{ mt: 2 }}>\n          <AnimateButton>\n            <Button disableElevation fullWidth size=\"large\" type=\"submit\" variant=\"contained\" color=\"primary\">\n              Logga in\n            </Button>\n          </AnimateButton>\n        </Box>\n      </form>\n    </>\n  );\n};\n\nexport default AuthLogin;\n","import { Link, useNavigate } from 'react-router-dom';\n\n// material-ui\nimport { Button, Divider, Grid, Stack, Theme, Typography, useMediaQuery } from '@mui/material';\n\n// project imports\nimport Logo from '@/ui-component/Logo';\nimport AuthFooter from '../components/AuthFooter';\nimport AuthWrapper from '../components/wrapper/AuthWrapper';\nimport AuthCardWrapper from '../components/wrapper/AuthCardWrapper';\nimport AuthLogin from '../components/auth-forms/AuthLogin';\nimport AnimateButton from '@/ui-component/extended/AnimateButton';\nimport { useAppStore } from '@/store';\nimport { SET_DEMO } from '@/store/actions';\n\n// ================================|| AUTH3 - LOGIN ||================================ //\n\nconst Login = () => {\n  const [, dispatch] = useAppStore();\n  const navigate = useNavigate();\n  const downMD = useMediaQuery((theme: Theme) => theme.breakpoints.down('md'));\n\n  return (\n    <AuthWrapper>\n      <Grid container direction=\"column\" justifyContent=\"flex-end\" sx={{ minHeight: '100vh' }}>\n        <Grid item xs={12}>\n          <Grid container justifyContent=\"center\" alignItems=\"center\" sx={{ minHeight: 'calc(100vh - 68px)' }}>\n            <Grid item sx={{ m: { xs: 1, sm: 3 }, mb: 0 }}>\n              <AuthCardWrapper>\n                <Grid container spacing={2} alignItems=\"center\" justifyContent=\"center\">\n                  <Grid item sx={{ mb: 3 }}>\n                    <Link to=\"#\" aria-label=\"logo\">\n                      <Logo />\n                    </Link>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Grid\n                      container\n                      direction={{ xs: 'column-reverse', md: 'row' }}\n                      alignItems=\"center\"\n                      justifyContent=\"center\"\n                    >\n                      <Grid item>\n                        <Stack alignItems=\"center\" justifyContent=\"center\" spacing={1}>\n                          <Typography color=\"primary.main\" gutterBottom variant={downMD ? 'h3' : 'h2'}>\n                            Hej, välkommen tillbaka\n                          </Typography>\n                          <Typography variant=\"caption\" fontSize=\"16px\" textAlign={{ xs: 'center', md: 'inherit' }}>\n                            Logga in för att fortsätta\n                          </Typography>\n                        </Stack>\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                  <Grid item xs={12}>\n                    <AuthLogin />\n                  </Grid>\n                  <Grid item xs={12}>\n                    <Divider />\n                  </Grid>\n                  <Grid item xs={12}>\n                    <AnimateButton>\n                      <Button\n                        disableElevation\n                        fullWidth\n                        size=\"large\"\n                        variant=\"outlined\"\n                        sx={{ textTransform: 'none' }}\n                        onClick={() => {\n                          dispatch({ type: SET_DEMO, payload: true });\n                          navigate('/');\n                        }}\n                      >\n                        Prova vår demo\n                      </Button>\n                    </AnimateButton>\n                  </Grid>\n                </Grid>\n              </AuthCardWrapper>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid item xs={12} sx={{ m: 3, mt: 1 }}>\n          <AuthFooter />\n        </Grid>\n      </Grid>\n    </AuthWrapper>\n  );\n};\n\nexport default Login;\n"],"names":["AuthLogin","theme","useTheme","useMediaQuery","navigate","useNavigate","useState","register","errors","handleSubmit","setError","useForm","loginUser","useAuthLogin","showPassword","setShowPassword","handleClickShowPassword","handleMouseDownPassword","event","handleLogin","auth","jsxs","Fragment","FormControl","jsx","InputLabel","OutlinedInput","FormHelperText","InputAdornment","IconButton","Visibility","VisibilityOff","Box","AnimateButton","Button","Login","dispatch","useAppStore","downMD","AuthWrapper","Grid","AuthCardWrapper","Link","Logo","Stack","Typography","Divider","SET_DEMO","AuthFooter"],"mappings":"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"}